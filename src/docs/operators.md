# TypeScript 操作符详细列表

## 1. 算术操作符

| 符号 | 中文名称 | 功能说明 | 使用示例 |
|------|----------|----------|----------|
| `+` | 加法 | 两数相加或字符串拼接 | `let sum = 10 + 5;` 或 `let greeting = "Hello" + " World";` |
| `-` | 减法 | 两数相减 | `let difference = 10 - 5;` |
| `*` | 乘法 | 两数相乘 | `let product = 10 * 5;` |
| `/` | 除法 | 两数相除 | `let quotient = 10 / 5;` |
| `%` | 取模/取余 | 返回除法的余数 | `let remainder = 10 % 3;` |
| `++` | 自增 | 变量值加1 | `let count = 0; count++;` |
| `--` | 自减 | 变量值减1 | `let count = 5; count--;` |

## 2. 赋值操作符

| 符号 | 中文名称 | 功能说明 | 使用示例 |
|------|----------|----------|----------|
| `=` | 简单赋值 | 将右侧值赋给左侧变量 | `let x = 10;` |
| `+=` | 加法赋值 | 左侧值加上右侧值，结果赋给左侧 | `let x = 10; x += 5;` |
| `-=` | 减法赋值 | 左侧值减去右侧值，结果赋给左侧 | `let x = 10; x -= 5;` |
| `*=` | 乘法赋值 | 左侧值乘以右侧值，结果赋给左侧 | `let x = 10; x *= 5;` |
| `/=` | 除法赋值 | 左侧值除以右侧值，结果赋给左侧 | `let x = 10; x /= 5;` |
| `%=` | 取模赋值 | 左侧值对右侧值取模，结果赋给左侧 | `let x = 10; x %= 3;` |
| `<<=` | 左移赋值 | 左侧值左移右侧指定位数，结果赋给左侧 | `let x = 4; x <<= 1;` |
| `>>=` | 右移赋值 | 左侧值右移右侧指定位数，结果赋给左侧 | `let x = 4; x >>= 1;` |
| `>>>=` | 无符号右移赋值 | 左侧值无符号右移右侧指定位数，结果赋给左侧 | `let x = 4; x >>>= 1;` |
| `&=` | 按位与赋值 | 左侧值与右侧值按位与，结果赋给左侧 | `let x = 5; x &= 3;` |
| `|=` | 按位或赋值 | 左侧值与右侧值按位或，结果赋给左侧 | `let x = 5; x |= 3;` |
| `^=` | 按位异或赋值 | 左侧值与右侧值按位异或，结果赋给左侧 | `let x = 5; x ^= 3;` |

## 3. 比较操作符

| 符号 | 中文名称 | 功能说明 | 使用示例 |
|------|----------|----------|----------|
| `==` | 相等 | 比较两个值是否相等（类型转换） | `5 == "5"` 结果为 `true` |
| `!=` | 不相等 | 比较两个值是否不相等（类型转换） | `5 != "5"` 结果为 `false` |
| `===` | 严格相等 | 比较两个值是否相等且类型相同 | `5 === "5"` 结果为 `false` |
| `!==` | 严格不相等 | 比较两个值是否不相等或类型不同 | `5 !== "5"` 结果为 `true` |
| `<` | 小于 | 左侧值是否小于右侧值 | `5 < 10` 结果为 `true` |
| `>` | 大于 | 左侧值是否大于右侧值 | `5 > 10` 结果为 `false` |
| `<=` | 小于等于 | 左侧值是否小于等于右侧值 | `5 <= 5` 结果为 `true` |
| `>=` | 大于等于 | 左侧值是否大于等于右侧值 | `5 >= 10` 结果为 `false` |
| `in` | in操作符 | 检查对象是否有指定属性或数组索引 | `"name" in user` 或 `0 in array` |
| `instanceof` | instanceof操作符 | 检查对象是否为指定构造函数的实例 | `user instanceof User` |

## 4. 逻辑操作符

| 符号 | 中文名称 | 功能说明 | 使用示例 |
|------|----------|----------|----------|
| `&&` | 逻辑与 | 两边都为真时结果为真，短路求值 | `if (age > 18 && hasLicense)` |
| `\|\|` | 逻辑或 | 至少一边为真时结果为真，短路求值 | `if (isAdmin || isOwner)` |
| `!` | 逻辑非 | 取反操作 | `let isNotAdmin = !isAdmin;` |

## 5. 位操作符

| 符号 | 中文名称 | 功能说明 | 使用示例 |
|------|----------|----------|----------|
| `&` | 按位与 | 对应位都为1时结果为1 | `let result = 5 & 3;` 结果为 `1` |
| `\|` | 按位或 | 对应位至少一个为1时结果为1 | `let result = 5 \| 3;` 结果为 `7` |
| `^` | 按位异或 | 对应位不同时结果为1 | `let result = 5 ^ 3;` 结果为 `6` |
| `~` | 按位非 | 反转所有位 | `let result = ~5;` 结果为 `-6` |
| `<<` | 左移 | 将左侧操作数的二进制位向左移动右侧操作数指定的位数 | `let result = 4 << 1;` 结果为 `8` |
| `>>` | 右移 | 将左侧操作数的二进制位向右移动右侧操作数指定的位数 | `let result = 4 >> 1;` 结果为 `2` |
| `>>>` | 无符号右移 | 将左侧操作数的二进制位向右移动右侧操作数指定的位数，左侧补0 | `let result = -4 >>> 1;` 结果为 `2147483646` |

## 6. 三元操作符

| 符号 | 中文名称 | 功能说明 | 使用示例 |
|------|----------|----------|----------|
| `? :` | 条件/三元操作符 | 根据条件返回不同值 | `let result = age >= 18 ? "成年" : "未成年";` |

## 7. 类型操作符

| 符号 | 中文名称 | 功能说明 | 使用示例 |
|------|----------|----------|----------|
| `as` | 类型断言 | 告诉编译器变量的类型 | `let value = someValue as string;` |
| `!` | 非空断言 | 告诉编译器变量不为null或undefined | `let value = someNullableValue!;` |
| `?.` | 可选链操作符 | 安全访问对象属性，避免空引用错误 | `let name = user?.name;` |
| `??` | 空值合并操作符 | 如果左侧为null或undefined则返回右侧值 | `let name = user.name ?? "默认名称";` |
| `typeof` | 类型查询 | 返回操作数的类型字符串 | `let type = typeof value;` |
| `keyof` | 键类型查询 | 返回类型的所有键组成的联合类型 | `type UserKeys = keyof User;` |
| `in` | 类型映射 | 在映射类型中遍历键 | `type Partial<T> = { [P in keyof T]?: T[P]; };` |
| `extends` | 类型约束 | 约束泛型参数的类型 | `function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {}` |
| `is` | 类型谓词 | 在自定义类型守卫中使用 | `function isString(value: unknown): value is string {}` |
| `as const` | 常量断言 | 告诉编译器将字面量类型视为不可变 | `let config = { name: "test" } as const;` |
| `new` | 构造函数类型 | 表示构造函数类型 | `type Constructor<T> = new (...args: any[]) => T;` |

## 8. 其他操作符

| 符号 | 中文名称 | 功能说明 | 使用示例 |
|------|----------|----------|----------|
| `,` | 逗号操作符 | 按顺序计算多个表达式，返回最后一个表达式的结果 | `let x = (a = 5, b = 10, a + b);` |
| `delete` | 删除操作符 | 删除对象的属性 | `delete user.age;` |
| `typeof` | 类型查询（运行时） | 返回操作数的类型字符串 | `typeof 5` 返回 `"number"` |
| `void` | void操作符 | 执行表达式并返回undefined | `void function() { console.log("test"); }();` |
| `await` | await操作符 | 等待Promise完成并返回结果 | `let result = await fetchData();` |
| `yield` | yield操作符 | 暂停生成器函数执行并返回值 | `yield value;` |
| `...` | 扩展操作符 | 展开数组或对象 | `let newArray = [...oldArray, item];` |
| `...` | 剩余参数操作符 | 将剩余参数收集为数组 | `function sum(...args: number[]): number {}` |
| `?.[]` | 可选索引访问 | 安全访问数组或对象的索引 | `let item = array?.[index];` |
| `?.()` | 可选函数调用 | 安全调用可能不存在的函数 | `callback?.();` |

## 9. TypeScript特有操作符

| 符号 | 中文名称 | 功能说明 | 使用示例 |
|------|----------|----------|----------|
| `!` | 非空断言 | 告诉编译器变量不为null或undefined | `let value = someNullableValue!;` |
| `?` | 可选属性标记 | 标记接口或类型中的属性为可选 | `interface User { name?: string; }` |
| `:` | 类型注解 | 指定变量、参数或返回值的类型 | `let name: string = "test";` |
| `=>` | 箭头函数 | 定义箭头函数 | `let add = (a: number, b: number): number => a + b;` |
| `#` | 私有字段 | 定义类的私有字段 | `class User { #privateField: string; }` |
| `|` | 联合类型 | 表示值可以是多种类型之一 | `type StringOrNumber = string | number;` |
| `&` | 交叉类型 | 将多种类型合并为一种类型 | `type UserWithRole = User & Role;` |
| `<>` | 类型参数 | 定义泛型的类型参数 | `function identity<T>(value: T): T {}` |
| `readonly` | 只读修饰符 | 标记属性或索引签名为只读 | `interface User { readonly id: number; }` |

## 10. 操作符优先级（从高到低）

1. 括号 `()`
2. 成员访问 `.`、可选链 `?.`、索引访问 `[]`、可选索引访问 `?.[]`
3. 函数调用 `()`、可选函数调用 `?.()`
4. 前缀操作符 `++`, `--`, `!`, `~`, `typeof`, `void`, `delete`, `await`
5. 乘法 `*`, 除法 `/`, 取模 `%`
6. 加法 `+`, 减法 `-`
7. 位移 `<<`, `>>`, `>>>`
8. 关系 `in`, `instanceof`, `<`, `<=`, `>`, `>=`
9. 相等 `==`, `!=`, `===`, `!==`
10. 按位与 `&`
11. 按位异或 `^`
12. 按位或 `|`
13. 逻辑与 `&&`
14. 逻辑或 `||`
15. 空值合并 `??`
16. 三元 `? :`
17. 赋值 `=`, `+=`, `-=`, `*=`, `/=`, `%=`, `<<=`, `>>=`, `>>>=`, `&=`, `|=`, `^=`
18. 逗号 `,`

## 11. 操作符结合性

- 大多数操作符是左结合的（从左到右计算）
- 赋值操作符是右结合的（从右到左计算）
- 三元操作符是右结合的
- 一元操作符、箭头函数是右结合的

## 12. 类型操作符与运行时操作符的区别

| 类型 | 特点 | 示例 |
|------|------|------|
| 类型操作符 | 只在编译时起作用，不生成JavaScript代码 | `keyof`, `typeof`（类型查询）, `extends`, `in`（类型映射） |
| 运行时操作符 | 在运行时起作用，生成JavaScript代码 | `+`, `-`, `*`, `/`, `&&`, `\|\|`, `typeof`（运行时） |

## 13. 安全操作符的使用

TypeScript提供了多种安全操作符来避免运行时错误：

1. **可选链 `?.`**：避免访问null/undefined对象的属性
2. **空值合并 `??`**：提供默认值，仅在左侧为null/undefined时生效
3. **非空断言 `!`**：明确告诉编译器变量不为null/undefined
4. **类型守卫**：通过条件判断缩小变量类型范围

## 14. 操作符的最佳实践

1. **优先使用严格相等 `===` 而非相等 `==`**，避免类型转换带来的意外结果
2. **使用可选链 `?.` 替代嵌套的 `if` 判断**，提高代码可读性
3. **使用空值合并 `??` 替代逻辑或 `||`**，避免0、""、false等假值被替换
4. **合理使用类型断言**，仅在确定类型时使用
5. **注意操作符优先级**，必要时使用括号明确运算顺序
6. **避免过度使用非空断言 `!`**，确保变量确实不为null/undefined
7. **在类型守卫中使用类型谓词 `is`**，提高类型安全性
8. **使用扩展操作符 `...` 简化数组和对象操作**，但注意性能影响

## 15. 常见操作符组合

| 组合 | 功能说明 | 使用示例 |
|------|----------|----------|
| `?.[]` | 可选索引访问 | `array?.[index]` |
| `?.()` | 可选函数调用 | `callback?.()` |
| `!== null && !== undefined` | 检查非空 | 等价于 `!= null` |
| `??= ` | 空值合并赋值（ES2021） | `user.name ??= "默认名称"` |
| `||= ` | 逻辑或赋值（ES2021） | `count ||= 0` |
| `&&= ` | 逻辑与赋值（ES2021） | `isAdmin &&= hasPermission` |

## 16. 操作符兼容性

- 所有JavaScript操作符在TypeScript中都可用
- 部分操作符是TypeScript特有的（如 `!` 非空断言、`as` 类型断言等）
- 部分操作符是ES2020+新增的（如 `?.` 可选链、`??` 空值合并等），需要配置合适的目标编译版本

## 17. 操作符相关的编译器选项

- `strictNullChecks`：影响 `!` 非空断言和 `?.` 可选链的行为
- `noImplicitAny`：影响类型推断时的操作符行为
- `target`：影响生成的JavaScript代码中操作符的处理
- `lib`：影响可用的操作符（如ES2021的逻辑赋值操作符）

## 18. 操作符的类型检查

TypeScript会对操作符的使用进行类型检查，例如：

- 算术操作符要求操作数为数值类型
- 字符串拼接要求至少一个操作数为字符串类型
- 比较操作符要求操作数类型兼容
- 逻辑操作符要求操作数为布尔类型或可转换为布尔类型

## 19. 操作符与泛型

操作符可以与泛型结合使用，例如：

```typescript
function add<T extends number>(a: T, b: T): T {
  return (a + b) as T;
}

function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}
```

## 20. 操作符与装饰器

操作符可以与装饰器结合使用，例如：

```typescript
@Decorator
class Test {
  @PropertyDecorator
  private value: string = "test";

  @MethodDecorator
  method(@ParameterDecorator param: string): void {
    // ...
  }
}
```

## 总结

TypeScript提供了丰富的操作符，包括从JavaScript继承的操作符和TypeScript特有的操作符。了解这些操作符的功能、优先级和最佳实践，有助于编写更安全、更高效的TypeScript代码。